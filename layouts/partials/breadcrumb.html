<div class="breadcrumb-box">
  <ol class="breadcrumb">
    {{ template "breadcrumb" (dict "p1" . "p2" .) }}
  </ol>
</div>      
{{ define "breadcrumb" }}
{{ if .p1.Parent }}
{{ template "breadcrumb" (dict "p1" .p1.Parent "p2" .p2 )  }}
{{ else if not .p1.IsHome }}
{{ template "breadcrumb" (dict "p1" .p1.Site.Home "p2" .p2 )  }}
{{ end }}
<li>
{{ if eq .p1 .p2 }}
{{ if .p1.Params.breadcrumb_title }}
  {{ .p1.Params.breadcrumb_title }}
  {{ else }}
  {{ .p1.Title }}
  {{ end }}
{{ else }}
  {{ if .p1.Params.breadcrumb_title }}
  <a href="{{ .p1.Permalink }}">{{ .p1.Params.breadcrumb_title }}</a>
  {{ else }}
  <a href="{{ .p1.Permalink }}">{{ .p1.Title }}</a>
  {{ end }}
{{ end }}
</li>
{{ end }}